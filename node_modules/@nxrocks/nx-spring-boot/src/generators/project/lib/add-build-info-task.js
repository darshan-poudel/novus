"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addBuilInfoTask = void 0;
const devkit_1 = require("@nx/devkit");
const common_jvm_1 = require("@nxrocks/common-jvm");
function addBuilInfoTask(tree, options) {
    if (options.projectType === 'application' &&
        (options.buildSystem === 'gradle-project' ||
            options.buildSystem === 'gradle-project-kotlin')) {
        const ext = options.buildSystem === 'gradle-project-kotlin' ? '.kts' : '';
        devkit_1.logger.debug(`Adding 'buildInfo' task to the build.gradle${ext} file...`);
        const buildInfoTask = (0, common_jvm_1.stripIndent) `
        springBoot {
        	buildInfo()
        }
        `;
        const buildGradlePath = `${options.projectRoot}/build.gradle${ext}`;
        const content = tree.read(buildGradlePath, 'utf-8') + buildInfoTask;
        tree.write(buildGradlePath, content);
    }
}
exports.addBuilInfoTask = addBuilInfoTask;
//# sourceMappingURL=add-build-info-task.js.map